@*
 * This template takes a single argument, a String containing a
 * message to display.
 *@
@(appUser : models.AppUser)

@*
 * Call the `main` template with two arguments. The first
 * argument is a `String` with the title of the page, the second
 * argument is an `Html` object containing the body of the page.
 *@
@main("Welcome to Tobuz Dashboard") {
<link rel="stylesheet" media="screen" href="@routes.Assets.versioned("stylesheets/customDashboard.css")">
@navbar(appUser,"Dashboard")

 <section class="maintab_bar">
@dbAsideNavbar("Adverts")
   <div class="col-md-10 col-xs-10 mainsidebar_dash_content" ng-controller="listingCntrl">
             <div class="row main_content_pad">
                            <div class="col-md-11 col-sm-11 col-xs-10">
                              <div class="right-inner-addon">
                                <span><i class="fa fa-search icon-search"></i></span>
                                <input type="search" class="form-control searchBar searchBar_ip"  placeholder="Ex:Business for Sale">
                              </div>
                            </div>
                            <div class="col-md-1 col-sm-1 col-xs-2">
                              <button class="btn btn primary pull-right searchBtn">search</button>
                              <!-- <span><i class="icon-search"></i></span> -->
                            </div>
                          </div>
                          <div class="row asideSample hidden-xs">
                            <div>
                            <div class="col-md-9 pdg_remove">
                                  <!-- <ul class="nav nav-pills main_content_tabs">
                                    <li class="active"><a data-toggle="pill" href="#home">Buyer</a></li>
                                    <li><a data-toggle="pill" href="#menu1">Seller</a></li>
                                    <li><a data-toggle="pill" href="#menu2">Business Frachise</a></li>
                                     <li><a data-toggle="pill" href="#menu3">Commerial Property</a></li>
                                    <li><a data-toggle="pill" href="#menu4">Business Directory</a></li>
                                    <li><a data-toggle="pill" href="#menu5">Brokers</a></li>
                                    <li><a data-toggle="pill" href="#menu6">Distress Resale</a></li>
                                  </ul> -->
                                  <div class="collapse navbar-collapse Zero-padding main_content_tabs" id="navbar-collapse-1">
                                        <ul class="nav navbar-nav dbNav">
                                            <li><a href="#">Buyer</a></li>
                                            <li><a href="#">Seller</a></li>
                                            <li><a href="#">Business Frachise</a></li>
                                            <li><a href="#">Commerial Property</a></li>
                                            <li><a href="#">Business Directory</a></li>
                                            <li><a href="#">Brokers</a></li>
                                            <li><a href="#">Distress Resale</a></li>
                                        </ul>
                                    </div>
                            </div>
                              <div class="col-sm-3">
                                <div class="socialShare pull-right">
                                  <div class="col-md-2 col-sm-2 fa-Blue">
                                           <a href="#"><i class="fa fa-facebook" aria-hidden="true"></i></a>
                                       </div>
                                       <div class="col-md-2 col-sm-2 fa-Blue">
                                           <a href="#"><i class="fa fa-linkedin" aria-hidden="true"></i></a>
                                       </div>
                                       <div class="col-md-2 col-sm-2 fa-Blue">
                                           <a href="#"><i class="fa fa-google-plus" aria-hidden="true"></i></a>
                                       </div>
                                       <div class="col-md-2 col-sm-2 fa-Blue">
                                           <a href="#"><i class="fa fa-twitter" aria-hidden="true"></i></a>
                                       </div>
                                       <div class="col-md-2 col-sm-2 fa-Blue">
                                           <a href="#"><i class="fa fa-google-plus" aria-hidden="true"></i></a>
                                       </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          
<div class="form_section">
   <div class="row ma">
      <div class="col-md-4 col-lg-4 col-xs-12 create_new_listings">
         <h2><span>Create</span> New Listings</h2>
                               
      </div>
      <div class="col-md-8 col-lg-8 col-xs-12">
           <div class="pull-right">
                    <span>
                        <a ng-click="formSubmit()"><button class="btn btn-lg btn-md btn-sm btn-success successBtn" >Publish Listing <span class="dbli_fm_pl_pdl"><img src="@routes.Assets.versioned("images/listing.png")" class="CustomBtnFav"></span></button></a>
                    </span>
                    <span>
                        <a href="/dashboard/finalListings"><button class="btn btn-lg btn-md btn-sm btn-success successBtn">Preview Listing <span class="dbli_fm_pl_pdl"><img src="@routes.Assets.versioned("images/preview.png")" class="CustomBtnFav"></span></button></a>
                    </span>
                    <span>
                        <button class="btn btn-lg btn-md btn-sm btn-success successBtn">Save As Draft <span class="dbli_fm_pl_pdl"><img src="@routes.Assets.versioned("images/save.png")" class="CustomBtnFav"></span></button>
                    </span>
            </div>
      </div>
   </div>
   <div class="row"   ng-init="getBusinessAdvertData()">
     <div class="col-md-12 col-xs-12 listingdash-form">
        
        <div class="row pdx-15">
            <div class="col-md-3 col-xs-7">
                <h4 class="bDetalTxt blue-color">Business Details</h4>
            </div>
            <div class="col-md-9 col-xs-5">
                <hr class="hLine">
            </div>
        </div>
           <form class="form-horizontal listing-form create_new_listings_form" id="">
            <div class="form-group list-form-group">
              <label class="control-label col-sm-4" for="email">Looking For</label>
              <div class="col-sm-8" ng-init="formListing.listingType='BUSINESS'">
                <label class="radio-inline">
                  <input type="radio" ng-model="formListing.listingType" value="BUSINESS" id="lookBusiness"  ng-click="getCategoryDetails('BUSINESS');"><label for="lookBusiness">Business</label>
                </label>
                <label class="radio-inline">
                  <input type="radio" ng-model="formListing.listingType" value="COMMERCIAL" id="lookCommercial" ng-click="getCategoryDetails('COMMERCIAL');"><label for="lookCommercial">Commercial</label>
                </label>
                <label class="radio-inline">
                  <input type="radio" ng-model="formListing.listingType" value="FRANCHISE" id="lookFranchise" ng-click="getCategoryDetails('FRANCHISE');"><label for="lookFranchise">Franchise</label>
                </label>
              </div>
            </div>
            <div class="form-group list-form-group">
              <label class="control-label col-sm-4" for="pwd">Select Industry</label>
              <div class="col-sm-6">  
                  <select class="form-control selctpicker" ng-model="formListing.categoryList" id="categoryList"  ng-change="getSubCategories(formListing.categoryList)" ng-options="category.name for category in formListing.categoryList" multiple>
                  </select>
              </div>
            </div>
            <div class="form-group list-form-group list-form-group_re-pd">
              <label class="control-label col-sm-4" for="pwd">Select Sub-category</label>
              <div class="col-sm-6">  
                  <select class="form-control selctpicker" ng-model="formListing.subCategoryList" id="subcategoryList" ng-options="subCategory.name for subCategory in formListing.subCategoryList" multiple>
                   
                  </select>
              </div>
            </div>
            <div class="form-group list-form-group list-form-group_re-pd">
                <div class="col-sm-offset-4 col-sm-6">
                    <h4 class="hr-line"><span>or</span></h4>
                </div>
            </div>
            <div class="form-group list-form-group">
                <div class="col-sm-offset-4 col-sm-4">
                    <input type="text" class="form-control" placeholder="Type a Category" ng-model="formListing.subCategoryInput">
                </div>
                <div class='col-sm-2'>
                    <button class='btn btn-sm btn-primary pull-right FindCbtn'>Find Category</button>
                </div>
            </div>
            <div class="form-group list-form-group">
              <label class="control-label col-sm-4" for="pwd">Select Your Investment Range</label>
              <div class="col-sm-6">  
                  <select class="form-control selctpicker" ng-model="formListing.investmentRange">
                    <option value="">Select Investment Range</option>
                    <option value="20000-200000">20000-200000</option>
                    <option value="200000 - 1000000">200000 - 1000000</option>
                    <option value="1000000 - 2000000">1000000 - 2000000</option>
                  </select>
              </div>
            </div>
            <div class="form-group list-form-group" ng-if="formListing.listingType=='FRANCHISE'">
              <label class="control-label col-sm-4" for="pwd">Full Description Of Franchise Listings</label>
              <div class="col-sm-6">  
                  <textarea class="form-control" rows="4" ng-model="formListing.advertFranchiseDescription">
                   
                  </textarea>
              </div>
            </div>
            <div class="form-group list-form-group" ng-if="formListing.listingType=='COMMERCIAL'">
              <label class="control-label col-sm-4" for="pwd">Full Description Of Commercial Listings</label>
              <div class="col-sm-6">  
                  <textarea class="form-control" rows="4" ng-model="formListing.advertCommercialDescription">
                   
                  </textarea>
              </div>
            </div>
            <div class="form-group list-form-group" ng-if="formListing.listingType=='BUSINESS'">
                <label class="control-label col-sm-4" for="pwd">Full Description Of Business Listings</label>
              <div class="col-sm-6">  
                  <textarea class="form-control" rows="4" ng-model="formListing.advertBusinessDescription">
                   
                  </textarea>
              </div>
            </div>
         
            <div class="form-group list-form-group">
              <label class="control-label col-sm-4" for="pwd">Select Your Preferred Business Location</label>
              <div class="col-sm-2">  
                  <select class="form-control smallSelctpicker" ng-model="country.id"  ng-change="getStateData(country.id)" ng-options="country.name for country in formListing.countryList">
                   
                  </select>
              </div>
              <div class="col-sm-2">  
                  <select class="form-control smallSelctpicker" ng-model="state.id" ng-change="getCityData(state.id)" ng-options="state.name for state in formListing.stateList">
                   
                  </select>
              </div>
              <div class="col-sm-2">  
                  <select class="form-control smallSelctpicker" ng-model="city.id"  ng-options="city.name for city in formListing.cityList">
                   
                  </select>
              </div>
            </div>
            <div class="form-group list-form-group">
                <div class="col-sm-offset-4 col-sm-6">
                                 
                    <div id="map" class="form-control"></div>
                              
                </div>
            </div>
            <div class="form-group list-form-group">
                <div class="col-sm-offset-4 col-sm-6">
                    <input type="text" class="form-control" id="pac-input" placeholder="Select Physical Address" ng-model="formListing.googleSearchAddress">
                </div>
            </div>
            <div class="form-group list-form-group list-form-group_re-pd">
              <label class="control-label col-sm-4" for="pwd">Title Of Listing</label>
              <div class="col-sm-6">  
                  <input type="text" class="form-control selctpicker" ng-model="formListing.listingTitle">
                    
              </div>
            </div>
            <div class="form-group list-form-group list-form-group_re-pd">
                <div class="col-sm-offset-4 col-sm-6">
                    <h4 class="hr-line"><span>or</span></h4>
                </div>
            </div>
            <div class="form-group list-form-group">
                <div class="col-sm-offset-4 col-sm-6">
                    <input type="text" class="form-control" ng-model="formListing.inputSelectdBusinessArea">
                </div>
                
            </div>
            <div class="row pdx-15">
                    <div class="col-md-3">
                        <h4 class="bDetalTxt blue-color">Other Information</h4>
                    </div>
                    <div class="col-md-9">
                        <hr class="hLine">
                    </div>
            </div>
            <div class="form-group list-form-group">
              <label class="control-label col-sm-4" for="pwd">Select area</label>
              <div class="col-sm-3">  
                  <select class="form-control middleSelctpicker" ng-model="formListing.spaceSize">
                    <option value="">Select Area</option>
                    <option value="100">100</option>
                    <option value="200">200</option>
                    <option value="300">300</option>
                  </select>
              </div>
              <div class="col-sm-2">  
                  <select class="form-control smallSelctpicker" ng-model="formListing.selctdAreaSquare">
                    <option value="{{metric.id}}"  ng-repeat="metric in formListing.metricsList">{{metric.metric}}</option>
                
                  </select>
              </div>
            </div>
            <div class="form-group list-form-group">
              <label class="control-label col-sm-4" for="pwd">Source Of Business</label>
              <div class="col-sm-6">  
                  <select class="form-control selctpicker" ng-model="formListing.sourceOfBusiness">
                    
                    <option value="Namplly">Nampally</option>
                    <option value="Kukaatpally">Kukaatpally</option>
                    <option value="Sec">Sec</option>
                  </select>
              </div>
            </div>
            <div class="form-group list-form-group">
              <label class="control-label col-sm-4" for="pwd">Select Timeline</label>
              <div class="col-sm-6">  
                  <select class="form-control selctpicker" ng-model="formListing.timeLineInDays">
                    <option value="10">10</option>
                    <option value="3">13</option>
                    <option value="4">16</option>
                  </select>
              </div>
            </div>
            <div class="row pdx-15">
                    <div class="col-md-3">
                        <h4 class="bDetalTxt blue-color">About Yourself</h4>
                    </div>
                    <div class="col-md-9">
                        <hr class="hLine">
                    </div>
            </div>
             <div class="form-group list-form-group">
              <label class="control-label col-sm-4" for="email">We'd like to Know more about you</label>
              <div class="col-sm-8">
                <label class="radio-inline">
                  <input type="radio" name="optradio" ng-model="formListing.loginType" id="knownByFb"><label for="knownByFb">Facebook</label>
                </label>
                <label class="radio-inline">
                  <input type="radio" name="optradio" ng-model="formListing.loginType" id="knownByLinkedin"><label for="knownByLinkedin">Linkedin</label>
                </label>
                <label class="radio-inline">
                  <input type="radio" name="optradio" ng-model="formListing.loginType" id="knownByTwitter"><label for="knownByTwitter">Twitter</label>
                </label>
                <label class="radio-inline">
                  <input type="radio" name="optradio" ng-model="formListing.loginType" id="knownByGoogle+"><label for="knownByGoogle+">Google+</label>
                </label>
              </div>
            </div>
            <input type="hidden" id="latitude" ng-model="formListing.latitude"/>
            <input type="hidden" id="longitude" ng-model="formListing.longitude"/>
            <div class="form-group list-form-group list-form-group_re-pd">
                <div class="col-sm-offset-4 col-sm-6">
                    <input type="text" class="form-control" placeholder="Enter reference URL" ng-model="formListing.referenceURL">
                </div>
            </div>
            <div class="form-group list-form-group list-form-group_re-pd">
                <div class="col-sm-offset-4 col-sm-6">
                    <h4 class="hr-line"><span>or</span></h4>
                </div>
            </div>
            <div class="form-group list-form-group">
              <label class="control-label col-sm-4" for="pwd">Done Yourself</label>
              <div class="col-sm-6">  
                  <textarea class="form-control" rows="4" ng-model="formListing.descrition">
                   
                  </textarea>
              </div>
            </div>
   			
   			<div class="form-group list-form-group">
              <label class="control-label col-sm-5" for="email">Whether your contact  details be visible to users</label>
              <div class="col-sm-7">
              		<div class="btn-group"  data-toggle="buttons">
		              <label class="btn btn-default btn-on active">
		              <input type="radio"  value="yes" name="say_yes_no"  ng-model="formListing.shareContact" id="say_yes">Yes</label>
		              <label class="btn btn-default btn-off">
		              <input type="radio"  value="no" name="say_yes_no" ng-model="formListing.shareContact" id="say_no">No</label>
		            </div>
                	
              </div>
            </div>
            <!-- <div class="form-group list-form-group">        
              <div class="col-sm-offset-2 col-sm-10">
                <div class="checkbox">
                  <label><input type="checkbox" name="remember"> Remember me </label>
                </div>
              </div>
            </div>
            <div class="form-group">        
              <div class="col-sm-offset-2 col-sm-10 text-center">
                <button type="submit" class="btn btn-default business_submit_btn" ng-click="formSubmit()" ng-controller="listingCntrl">Submit</button>
              </div>
            </div> -->
          </form>
     </div>
   </div>
</div>

 </section>

}
<script src="http://www.geoplugin.net/javascript.gp" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.js" type="text/javascript"></script>
 <script src="@routes.Assets.versioned("javascripts/register.js")" type="text/javascript"></script>

    

    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAG5ZC5w-ge97EnNSCwO40CTrTizC3ueww&libraries=places&callback=initAutocomplete"
         async defer></script>
         <script>
      // This example adds a search box to a map, using the Google Place Autocomplete
      // feature. People can enter geographical searches. The search box will return a
      // pick list containing a mix of places and predicted search terms.
      // This example requires the Places library. Include the libraries=places
      // parameter when you first load the API. For example:
      // <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places">
      
      function initAutocomplete() {
  var markers = [];
  var map = new google.maps.Map(document.getElementById('map'), {
    mapTypeId: google.maps.MapTypeId.ROADMAP
  });
  var defaultBounds = new google.maps.LatLngBounds(
      new google.maps.LatLng(-33.8902, 151.1759),
      new google.maps.LatLng(-33.8474, 151.2631));
  map.fitBounds(defaultBounds);
  var input = document.getElementById('pac-input')
  
  map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);
  var searchBox = new google.maps.places.SearchBox(input);
  google.maps.event.addListener(searchBox, 'places_changed', function() {
    var places = searchBox.getPlaces();
    if (places.length == 0) {
      return;
    }
   
    for (var i = 0, marker; marker = markers[i]; i++) {
      marker.setMap(null);
    }
    markers = [];
    var bounds = new google.maps.LatLngBounds();
    for (var i = 0, place; place = places[i]; i++) {
      var image = {
        url: place.icon,
        size: new google.maps.Size(71, 71),
        origin: new google.maps.Point(0, 0),
        anchor: new google.maps.Point(17, 34),
        scaledSize: new google.maps.Size(25, 25)
      };
      var marker = new google.maps.Marker({
        draggable: true,
        map: map,
        icon: image,
        title: place.name,
        position: place.geometry.location
      });
      $(document).find('#latitude').val(place.geometry.location.lat());
      $(document).find('#longitude').val(place.geometry.location.lng());
      // drag response
      google.maps.event.addListener(marker, 'dragend', function(e) {
        displayPosition(this.getPosition());
      });
      // click response
      google.maps.event.addListener(marker, 'click', function(e) {
        displayPosition(this.getPosition());
      });
      markers.push(marker);
      bounds.extend(place.geometry.location);
    }
    map.fitBounds(bounds);
  });
  google.maps.event.addListener(map, 'bounds_changed', function() {
    var bounds = map.getBounds();
    searchBox.setBounds(bounds);
  });
  // displays a position on two <input> elements
  function displayPosition(pos) {
  /*   document.getElementById('lat').value = pos.lat();
    document.getElementById('lng').value = pos.lng(); */
    $(document).find('#latitude').val(pos.lat());
    $(document).find('#longitude').val(pos.lng());
  }
}  
    </script>
